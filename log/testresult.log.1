

===   [ 收集测试用例 ]  === 


== cases\__st__.py 


** no setup/teardown/tags in this file , skip it.

== cases\demo1.py 

列出班级


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:25 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "gradeid": null,
  "retlist": [
    {
      "name": "实验一班",
      "grade__name": "七年级",
      "invitecode": "202734632934",
      "studentlimit": 80,
      "studentnumber": 0,
      "id": 20273,
      "teacherlist": [
        {
          "teacher__realname": "张明",
          "subject_id": 1,
          "subject__name": "初中数学",
          "teacher__user_id": 7799
        }
      ]
    }
  ],
  "retcode": 0
}
-------- HTTP response * end -------


列出老师


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:25 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "retlist": [
    {
      "username": "zhangming",
      "teachclasslist": [
        20273
      ],
      "realname": "张明",
      "id": 5219,
      "phonenumber": "13451813456",
      "email": "zhangming@163.com",
      "idcardnumber": "3209251983090987799"
    }
  ],
  "retcode": 0
}
-------- HTTP response * end -------


列出学生


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:26 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "retlist": [],
  "retcode": 0
}
-------- HTTP response * end -------



** no cases in this file, skip it.

== cases\空白环境\空白.py 


== cases\空白环境\一个班级\__st__.py 


== cases\空白环境\一个班级\一个班级.py 


== cases\空白环境\一个班级\一班级一学生\__st__.py 


== cases\空白环境\一个班级\一班级一学生\一班级一学生.py 


== cases\空白环境\一个班级\一班级一老师\__st__.py 


== cases\空白环境\一个班级\一班级一老师\一班级一老师.py 


== cases\空白环境\一个班级\一班级一老师\一班级一老师一学生\__st__.py 


== cases\空白环境\一个班级\一班级一老师\一班级一老师一学生\一班级一老师一学生.py 



===   [ 执行测试用例 ]  === 

预备执行用例数量 : 25



  ========= 测试开始 : 20250620_153426 =========



>>> cases\空白环境\空白.py

* 添加班级1-API-tc000001  -  2025-06-20 15:34:26

  [ case execution steps ]

-- 第 1 步 -- 创建班级 

添加班级


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:26 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "reason": "Traceback (most recent call last):\n  File \"/home/yjyx/yijiao_src/yijiao_main/services/datamodel/schoolclass/models.py\", line 542, in addClass\n    school_class = self._addClass(name,schoolid,gradeid,studentlimit)\n  File \"/home/yjyx/yijiao_src/yijiao_main/services/datamodel/schoolclass/models.py\", line 531, in _addClass\n    school_class.save()\n  File \"/usr/local/lib/python2.7/site-packages/django/db/models/base.py\", line 710, in save\n    force_update=force_update, update_fields=update_fields)\n  File \"/usr/local/lib/python2.7/site-packages/django/db/models/base.py\", line 738, in save_base\n    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)\n  File \"/usr/local/lib/python2.7/site-packages/django/db/models/base.py\", line 822, in _save_table\n    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)\n  File \"/usr/local/lib/python2.7/site-packages/django/db/models/base.py\", line 861, in _do_insert\n    using=using, raw=raw)\n  File \"/usr/local/lib/python2.7/site-packages/django/db/models/manager.py\", line 127, in manager_method\n    return getattr(self.get_queryset(), name)(*args, **kwargs)\n  File \"/usr/local/lib/python2.7/site-packages/django/db/models/query.py\", line 920, in _insert\n    return query.get_compiler(using=using).execute_sql(return_id)\n  File \"/usr/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py\", line 974, in execute_sql\n    cursor.execute(sql, params)\n  File \"/usr/local/lib/python2.7/site-packages/django/db/backends/utils.py\", line 64, in execute\n    return self.cursor.execute(sql, params)\n  File \"/usr/local/lib/python2.7/site-packages/django/db/utils.py\", line 97, in __exit__\n    six.reraise(dj_exc_type, dj_exc_value, traceback)\n  File \"/usr/local/lib/python2.7/site-packages/django/db/backends/utils.py\", line 64, in execute\n    return self.cursor.execute(sql, params)\n  File \"/usr/local/lib/python2.7/site-packages/django/db/backends/mysql/base.py\", line 124, in execute\n    return self.cursor.execute(query, args)\n  File \"/usr/local/lib/python2.7/site-packages/MySQLdb/cursors.py\", line 205, in execute\n    self.errorhandler(self, exc, value)\n  File \"/usr/local/lib/python2.7/site-packages/MySQLdb/connections.py\", line 36, in defaulterrorhandler\n    raise errorclass, errorvalue\nIntegrityError: (1062, \"Duplicate entry '\\xe5\\xae\\x9e\\xe9\\xaa\\x8c\\xe4\\xb8\\x80\\xe7\\x8f\\xad-407-1' for key 'name'\")\n",
  "retcode": 1
}
-------- HTTP response * end -------


  ABORT   'invitecode' 
Traceback:
  File "D:\tools\projects\autotest_yjyx\cases\空白环境\空白.py", line 14, in teststeps
    invitecode = addRet["invitecode"]
                 ~~~~~~^^^^^^^^^^^^^^
KeyError: 'invitecode'


[ case teardown ] 添加班级1-API-tc000001
case teardown fail | 'Case_tc000001' object has no attribute 'cid' 
Traceback:
  File "D:\tools\projects\autotest_yjyx\cases\空白环境\空白.py", line 50, in teardown
    sclass.del_class(self.cid)
                     ^^^^^^^^
AttributeError: 'Case_tc000001' object has no attribute 'cid'


* 删除班级1-API-tc000081  -  2025-06-20 15:34:26

  [ case execution steps ]

-- 第 1 步 -- 删除班级：使用不存在的班级ID 

删除班级


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:26 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "reason": "id 为`111`的班级不存在",
  "retcode": 404
}
-------- HTTP response * end -------



** 检查点 **  响应体消息是否符合预期 ---->  通过

  PASS 


>>> cases\空白环境\一个班级\

[ suite setup ] cases\空白环境\一个班级\
添加班级


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:27 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "reason": "Traceback (most recent call last):\n  File \"/home/yjyx/yijiao_src/yijiao_main/services/datamodel/schoolclass/models.py\", line 542, in addClass\n    school_class = self._addClass(name,schoolid,gradeid,studentlimit)\n  File \"/home/yjyx/yijiao_src/yijiao_main/services/datamodel/schoolclass/models.py\", line 531, in _addClass\n    school_class.save()\n  File \"/usr/local/lib/python2.7/site-packages/django/db/models/base.py\", line 710, in save\n    force_update=force_update, update_fields=update_fields)\n  File \"/usr/local/lib/python2.7/site-packages/django/db/models/base.py\", line 738, in save_base\n    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)\n  File \"/usr/local/lib/python2.7/site-packages/django/db/models/base.py\", line 822, in _save_table\n    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)\n  File \"/usr/local/lib/python2.7/site-packages/django/db/models/base.py\", line 861, in _do_insert\n    using=using, raw=raw)\n  File \"/usr/local/lib/python2.7/site-packages/django/db/models/manager.py\", line 127, in manager_method\n    return getattr(self.get_queryset(), name)(*args, **kwargs)\n  File \"/usr/local/lib/python2.7/site-packages/django/db/models/query.py\", line 920, in _insert\n    return query.get_compiler(using=using).execute_sql(return_id)\n  File \"/usr/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py\", line 974, in execute_sql\n    cursor.execute(sql, params)\n  File \"/usr/local/lib/python2.7/site-packages/django/db/backends/utils.py\", line 64, in execute\n    return self.cursor.execute(sql, params)\n  File \"/usr/local/lib/python2.7/site-packages/django/db/utils.py\", line 97, in __exit__\n    six.reraise(dj_exc_type, dj_exc_value, traceback)\n  File \"/usr/local/lib/python2.7/site-packages/django/db/backends/utils.py\", line 64, in execute\n    return self.cursor.execute(sql, params)\n  File \"/usr/local/lib/python2.7/site-packages/django/db/backends/mysql/base.py\", line 124, in execute\n    return self.cursor.execute(query, args)\n  File \"/usr/local/lib/python2.7/site-packages/MySQLdb/cursors.py\", line 205, in execute\n    self.errorhandler(self, exc, value)\n  File \"/usr/local/lib/python2.7/site-packages/MySQLdb/connections.py\", line 36, in defaulterrorhandler\n    raise errorclass, errorvalue\nIntegrityError: (1062, \"Duplicate entry '\\xe5\\xae\\x9e\\xe9\\xaa\\x8c\\xe4\\xb8\\x80\\xe7\\x8f\\xad-407-1' for key 'name'\")\n",
  "retcode": 1
}
-------- HTTP response * end -------




>>> cases\空白环境\一个班级\一个班级.py

* 添加老师1-API-tc001001  -  2025-06-20 15:34:27

  [ case execution steps ]

-- 第 1 步 -- 创建老师 

列出班级


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:27 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "gradeid": null,
  "retlist": [
    {
      "name": "实验一班",
      "grade__name": "七年级",
      "invitecode": "202734632934",
      "studentlimit": 80,
      "studentnumber": 0,
      "id": 20273,
      "teacherlist": [
        {
          "teacher__realname": "张明",
          "subject_id": 1,
          "subject__name": "初中数学",
          "teacher__user_id": 7799
        }
      ]
    }
  ],
  "retcode": 0
}
-------- HTTP response * end -------


添加老师


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:27 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "reason": "登录名 zhangming 已经存在",
  "retcode": 1
}
-------- HTTP response * end -------


  ABORT   'id' 
Traceback:
  File "D:\tools\projects\autotest_yjyx\cases\空白环境\一个班级\一个班级.py", line 24, in teststeps
    self.tid = addRet["id"]
               ~~~~~~^^^^^^
KeyError: 'id'


[ case teardown ] 添加老师1-API-tc001001
case teardown fail | 'Case_tc001001' object has no attribute 'tid' 
Traceback:
  File "D:\tools\projects\autotest_yjyx\cases\空白环境\一个班级\一个班级.py", line 49, in teardown
    teacher.del_teacher(self.tid)
                        ^^^^^^^^
AttributeError: 'Case_tc001001' object has no attribute 'tid'


* 添加班级2-API-tc000002  -  2025-06-20 15:34:27

  [ case execution steps ]

-- 第 1 步 -- 创建不同年级的不同名班级 

添加班级


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:27 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "invitecode": "202769896850",
  "retcode": 0,
  "id": 20276
}
-------- HTTP response * end -------



** 检查点 **  返回的retcode值=0 ---->  通过


-- 第 2 步 -- 列出班级 

列出班级


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:27 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "gradeid": 2,
  "retlist": [
    {
      "name": "实验二班",
      "grade__name": "八年级",
      "invitecode": "202769896850",
      "studentlimit": 70,
      "studentnumber": 0,
      "id": 20276,
      "teacherlist": []
    }
  ],
  "retcode": 0
}
-------- HTTP response * end -------



** 检查点 **  返回的消息体数是否包含刚刚添加的班级信息 ---->  通过

  PASS 

[ case teardown ] 添加班级2-API-tc000002
删除班级


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:27 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "retcode": 0
}
-------- HTTP response * end -------



* 添加班级3-API-tc000003  -  2025-06-20 15:34:27

  [ case execution steps ]

-- 第 1 步 -- 创建同年级的同名班级 

列出班级


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:28 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "gradeid": null,
  "retlist": [
    {
      "name": "实验一班",
      "grade__name": "七年级",
      "invitecode": "202734632934",
      "studentlimit": 80,
      "studentnumber": 0,
      "id": 20273,
      "teacherlist": [
        {
          "teacher__realname": "张明",
          "subject_id": 1,
          "subject__name": "初中数学",
          "teacher__user_id": 7799
        }
      ]
    }
  ],
  "retcode": 0
}
-------- HTTP response * end -------


添加班级


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:28 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "reason": "Traceback (most recent call last):\n  File \"/home/yjyx/yijiao_src/yijiao_main/services/datamodel/schoolclass/models.py\", line 542, in addClass\n    school_class = self._addClass(name,schoolid,gradeid,studentlimit)\n  File \"/home/yjyx/yijiao_src/yijiao_main/services/datamodel/schoolclass/models.py\", line 531, in _addClass\n    school_class.save()\n  File \"/usr/local/lib/python2.7/site-packages/django/db/models/base.py\", line 710, in save\n    force_update=force_update, update_fields=update_fields)\n  File \"/usr/local/lib/python2.7/site-packages/django/db/models/base.py\", line 738, in save_base\n    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)\n  File \"/usr/local/lib/python2.7/site-packages/django/db/models/base.py\", line 822, in _save_table\n    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)\n  File \"/usr/local/lib/python2.7/site-packages/django/db/models/base.py\", line 861, in _do_insert\n    using=using, raw=raw)\n  File \"/usr/local/lib/python2.7/site-packages/django/db/models/manager.py\", line 127, in manager_method\n    return getattr(self.get_queryset(), name)(*args, **kwargs)\n  File \"/usr/local/lib/python2.7/site-packages/django/db/models/query.py\", line 920, in _insert\n    return query.get_compiler(using=using).execute_sql(return_id)\n  File \"/usr/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py\", line 974, in execute_sql\n    cursor.execute(sql, params)\n  File \"/usr/local/lib/python2.7/site-packages/django/db/backends/utils.py\", line 64, in execute\n    return self.cursor.execute(sql, params)\n  File \"/usr/local/lib/python2.7/site-packages/django/db/utils.py\", line 97, in __exit__\n    six.reraise(dj_exc_type, dj_exc_value, traceback)\n  File \"/usr/local/lib/python2.7/site-packages/django/db/backends/utils.py\", line 64, in execute\n    return self.cursor.execute(sql, params)\n  File \"/usr/local/lib/python2.7/site-packages/django/db/backends/mysql/base.py\", line 124, in execute\n    return self.cursor.execute(query, args)\n  File \"/usr/local/lib/python2.7/site-packages/MySQLdb/cursors.py\", line 205, in execute\n    self.errorhandler(self, exc, value)\n  File \"/usr/local/lib/python2.7/site-packages/MySQLdb/connections.py\", line 36, in defaulterrorhandler\n    raise errorclass, errorvalue\nIntegrityError: (1062, \"Duplicate entry '\\xe5\\xae\\x9e\\xe9\\xaa\\x8c\\xe4\\xb8\\x80\\xe7\\x8f\\xad-407-1' for key 'name'\")\n",
  "retcode": 1
}
-------- HTTP response * end -------


  FAIL   添加班级异常或返回结构错误，异常信息: 'invitecode' 
Traceback:
                 ~~~~~~^^^^^^^^^^^^^^
KeyError: 'invitecode'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python312\Lib\site-packages\hytest\utils\runner.py", line 615, in _exec_cases
    case.teststeps()
  File "D:\tools\projects\autotest_yjyx\cases\空白环境\一个班级\一个班级.py", line 114, in teststeps
    assert False, f"添加班级异常或返回结构错误，异常信息: {e}"
           ^^^^^
AssertionError: 添加班级异常或返回结构错误，异常信息: 'invitecode'


[ case teardown ] 添加班级3-API-tc000003
case teardown fail | 'Case_tc000003' object has no attribute 'cid' 
Traceback:
  File "D:\tools\projects\autotest_yjyx\cases\空白环境\一个班级\一个班级.py", line 130, in teardown
    sclass.del_class(self.cid)
                     ^^^^^^^^
AttributeError: 'Case_tc000003' object has no attribute 'cid'


* 修改班级1-API-tc000051  -  2025-06-20 15:34:28

  [ case execution steps ]

-- 第 1 步 -- 修改班级 

列出班级


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:28 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "gradeid": null,
  "retlist": [
    {
      "name": "实验一班",
      "grade__name": "七年级",
      "invitecode": "202734632934",
      "studentlimit": 80,
      "studentnumber": 0,
      "id": 20273,
      "teacherlist": [
        {
          "teacher__realname": "张明",
          "subject_id": 1,
          "subject__name": "初中数学",
          "teacher__user_id": 7799
        }
      ]
    }
  ],
  "retcode": 0
}
-------- HTTP response * end -------


修改班级


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:28 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "reason": "缺少参数`studentlimit`",
  "retcode": 1
}
-------- HTTP response * end -------



** 检查点 **  修改班级返回retcode为0 ---->  !! 不通过!!

  FAIL    
Traceback:
  File "D:\tools\projects\autotest_yjyx\cases\空白环境\一个班级\一个班级.py", line 145, in teststeps
    CHECK_POINT('修改班级返回retcode为0', modifyRet['retcode'] == 0)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python312\Lib\site-packages\hytest\common.py", line 76, in CHECK_POINT
    raise AssertionError()
AssertionError


[ case teardown ] 修改班级1-API-tc000051
修改班级


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:28 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "reason": "缺少参数`studentlimit`",
  "retcode": 1
}
-------- HTTP response * end -------



* 修改班级2-API-tc000052  -  2025-06-20 15:34:28

  [ case execution steps ]

-- 第 1 步 -- 修改班级 

列出班级


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:28 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "gradeid": null,
  "retlist": [
    {
      "name": "实验一班",
      "grade__name": "七年级",
      "invitecode": "202734632934",
      "studentlimit": 80,
      "studentnumber": 0,
      "id": 20273,
      "teacherlist": [
        {
          "teacher__realname": "张明",
          "subject_id": 1,
          "subject__name": "初中数学",
          "teacher__user_id": 7799
        }
      ]
    }
  ],
  "retcode": 0
}
-------- HTTP response * end -------


修改班级


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:28 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "reason": "缺少参数`studentlimit`",
  "retcode": 1
}
-------- HTTP response * end -------



** 检查点 **  响应体消息是否符合预期 ---->  !! 不通过!!

  FAIL    
Traceback:
  File "D:\tools\projects\autotest_yjyx\cases\空白环境\一个班级\一个班级.py", line 179, in teststeps
    CHECK_POINT('响应体消息是否符合预期', expected == modifyRet)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python312\Lib\site-packages\hytest\common.py", line 76, in CHECK_POINT
    raise AssertionError()
AssertionError


* 修改班级3-API-tc000053  -  2025-06-20 15:34:28

  [ case execution steps ]

-- 第 1 步 -- 修改班级：使用不存在的班级ID 

列出班级


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:28 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "gradeid": null,
  "retlist": [
    {
      "name": "实验一班",
      "grade__name": "七年级",
      "invitecode": "202734632934",
      "studentlimit": 80,
      "studentnumber": 0,
      "id": 20273,
      "teacherlist": [
        {
          "teacher__realname": "张明",
          "subject_id": 1,
          "subject__name": "初中数学",
          "teacher__user_id": 7799
        }
      ]
    }
  ],
  "retcode": 0
}
-------- HTTP response * end -------


修改班级


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:28 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "reason": "id 为`111`的班级不存在",
  "retcode": 404
}
-------- HTTP response * end -------



** 检查点 **  响应体消息是否符合预期 ---->  通过

  PASS 

* 删除班级2-API-tc000082  -  2025-06-20 15:34:28

  [ case execution steps ]

-- 第 1 步 -- 删除班级 

列出班级


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:28 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "gradeid": null,
  "retlist": [
    {
      "name": "实验一班",
      "grade__name": "七年级",
      "invitecode": "202734632934",
      "studentlimit": 80,
      "studentnumber": 0,
      "id": 20273,
      "teacherlist": [
        {
          "teacher__realname": "张明",
          "subject_id": 1,
          "subject__name": "初中数学",
          "teacher__user_id": 7799
        }
      ]
    }
  ],
  "retcode": 0
}
-------- HTTP response * end -------


删除班级


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:28 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "reason": "此班级里还有老师，需清空后才能删除",
  "retcode": 1
}
-------- HTTP response * end -------



** 检查点 **  响应体消息是否符合预期 ---->  !! 不通过!!

  FAIL    
Traceback:
  File "D:\tools\projects\autotest_yjyx\cases\空白环境\一个班级\一个班级.py", line 227, in teststeps
    CHECK_POINT('响应体消息是否符合预期', expected == delRet)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python312\Lib\site-packages\hytest\common.py", line 76, in CHECK_POINT
    raise AssertionError()
AssertionError


[ case teardown ] 删除班级2-API-tc000082
添加班级


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:29 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "reason": "Traceback (most recent call last):\n  File \"/home/yjyx/yijiao_src/yijiao_main/services/datamodel/schoolclass/models.py\", line 542, in addClass\n    school_class = self._addClass(name,schoolid,gradeid,studentlimit)\n  File \"/home/yjyx/yijiao_src/yijiao_main/services/datamodel/schoolclass/models.py\", line 531, in _addClass\n    school_class.save()\n  File \"/usr/local/lib/python2.7/site-packages/django/db/models/base.py\", line 710, in save\n    force_update=force_update, update_fields=update_fields)\n  File \"/usr/local/lib/python2.7/site-packages/django/db/models/base.py\", line 738, in save_base\n    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)\n  File \"/usr/local/lib/python2.7/site-packages/django/db/models/base.py\", line 822, in _save_table\n    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)\n  File \"/usr/local/lib/python2.7/site-packages/django/db/models/base.py\", line 861, in _do_insert\n    using=using, raw=raw)\n  File \"/usr/local/lib/python2.7/site-packages/django/db/models/manager.py\", line 127, in manager_method\n    return getattr(self.get_queryset(), name)(*args, **kwargs)\n  File \"/usr/local/lib/python2.7/site-packages/django/db/models/query.py\", line 920, in _insert\n    return query.get_compiler(using=using).execute_sql(return_id)\n  File \"/usr/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py\", line 974, in execute_sql\n    cursor.execute(sql, params)\n  File \"/usr/local/lib/python2.7/site-packages/django/db/backends/utils.py\", line 64, in execute\n    return self.cursor.execute(sql, params)\n  File \"/usr/local/lib/python2.7/site-packages/django/db/utils.py\", line 97, in __exit__\n    six.reraise(dj_exc_type, dj_exc_value, traceback)\n  File \"/usr/local/lib/python2.7/site-packages/django/db/backends/utils.py\", line 64, in execute\n    return self.cursor.execute(sql, params)\n  File \"/usr/local/lib/python2.7/site-packages/django/db/backends/mysql/base.py\", line 124, in execute\n    return self.cursor.execute(query, args)\n  File \"/usr/local/lib/python2.7/site-packages/MySQLdb/cursors.py\", line 205, in execute\n    self.errorhandler(self, exc, value)\n  File \"/usr/local/lib/python2.7/site-packages/MySQLdb/connections.py\", line 36, in defaulterrorhandler\n    raise errorclass, errorvalue\nIntegrityError: (1062, \"Duplicate entry '\\xe5\\xae\\x9e\\xe9\\xaa\\x8c\\xe4\\xb8\\x80\\xe7\\x8f\\xad-407-1' for key 'name'\")\n",
  "retcode": 1
}
-------- HTTP response * end -------



* 老师登录1-API-tc005001  -  2025-06-20 15:34:28

  [ case execution steps ]

-- 第 1 步 -- 创建老师 

列出班级


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:29 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "gradeid": null,
  "retlist": [
    {
      "name": "实验一班",
      "grade__name": "七年级",
      "invitecode": "202734632934",
      "studentlimit": 80,
      "studentnumber": 0,
      "id": 20273,
      "teacherlist": [
        {
          "teacher__realname": "张明",
          "subject_id": 1,
          "subject__name": "初中数学",
          "teacher__user_id": 7799
        }
      ]
    }
  ],
  "retcode": 0
}
-------- HTTP response * end -------


添加老师


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:29 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "reason": "登录名 zhangming 已经存在",
  "retcode": 1
}
-------- HTTP response * end -------


  ABORT   'id' 
Traceback:
  File "D:\tools\projects\autotest_yjyx\cases\空白环境\一个班级\一个班级.py", line 260, in teststeps
    self.tid = r.json()["id"]
               ~~~~~~~~^^^^^^
KeyError: 'id'


[ case teardown ] 老师登录1-API-tc005001
case teardown fail | 'Case_tc005001' object has no attribute 'tid' 
Traceback:
  File "D:\tools\projects\autotest_yjyx\cases\空白环境\一个班级\一个班级.py", line 298, in teardown
    teacher.del_teacher(self.tid)
                        ^^^^^^^^
AttributeError: 'Case_tc005001' object has no attribute 'tid'


* 学生登录1-API-tc005081  -  2025-06-20 15:34:29

  [ case execution steps ]

-- 第 1 步 -- 创建学生 

列出班级


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:29 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "gradeid": null,
  "retlist": [
    {
      "name": "实验一班",
      "grade__name": "七年级",
      "invitecode": "202734632934",
      "studentlimit": 80,
      "studentnumber": 0,
      "id": 20273,
      "teacherlist": [
        {
          "teacher__realname": "张明",
          "subject_id": 1,
          "subject__name": "初中数学",
          "teacher__user_id": 7799
        }
      ]
    }
  ],
  "retcode": 0
}
-------- HTTP response * end -------


添加学生


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:29 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "retcode": 0,
  "id": 2122
}
-------- HTTP response * end -------



** 检查点 **  是否创建学生成功 ---->  通过


-- 第 2 步 -- 登录web系统 

打开浏览器
检查 学校、姓名、已发布微课、已发布作业 的信息是否正确
picture imgs/20250620153434569642.png

** 检查点 **  检查信息是否正确 ---->  通过


-- 第 3 步 -- 点击班级学生 

picture imgs/20250620153434827186.png

** 检查点 **  检查错题库 ---->  通过

  PASS 

[ case teardown ] 学生登录1-API-tc005081
删除学生


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:35 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "retcode": 0
}
-------- HTTP response * end -------




>>> cases\空白环境\一个班级\一班级一学生\

[ suite setup ] cases\空白环境\一个班级\一班级一学生\
列出班级


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:35 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "gradeid": null,
  "retlist": [
    {
      "name": "实验一班",
      "grade__name": "七年级",
      "invitecode": "202734632934",
      "studentlimit": 80,
      "studentnumber": 0,
      "id": 20273,
      "teacherlist": [
        {
          "teacher__realname": "张明",
          "subject_id": 1,
          "subject__name": "初中数学",
          "teacher__user_id": 7799
        }
      ]
    }
  ],
  "retcode": 0
}
-------- HTTP response * end -------


添加学生


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:35 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "retcode": 0,
  "id": 2123
}
-------- HTTP response * end -------




>>> cases\空白环境\一个班级\一班级一学生\一班级一学生.py

* 老师登录2-API-tc005002  -  2025-06-20 15:34:35

  [ case execution steps ]

-- 第 1 步 -- 创建老师 

列出班级


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:35 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "gradeid": null,
  "retlist": [
    {
      "name": "实验一班",
      "grade__name": "七年级",
      "invitecode": "202734632934",
      "studentlimit": 80,
      "studentnumber": 1,
      "id": 20273,
      "teacherlist": [
        {
          "teacher__realname": "张明",
          "subject_id": 1,
          "subject__name": "初中数学",
          "teacher__user_id": 7799
        }
      ]
    }
  ],
  "retcode": 0
}
-------- HTTP response * end -------


添加老师


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:35 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "reason": "任课信息冲突",
  "retcode": 1
}
-------- HTTP response * end -------


  ABORT   'id' 
Traceback:
  File "D:\tools\projects\autotest_yjyx\cases\空白环境\一个班级\一班级一学生\一班级一学生.py", line 23, in teststeps
    self.tid = r.json()["id"]
               ~~~~~~~~^^^^^^
KeyError: 'id'


[ case teardown ] 老师登录2-API-tc005002
case teardown fail | 'Case_tc005002' object has no attribute 'tid' 
Traceback:
  File "D:\tools\projects\autotest_yjyx\cases\空白环境\一个班级\一班级一学生\一班级一学生.py", line 67, in teardown
    teacher.del_teacher(self.tid)
                        ^^^^^^^^
AttributeError: 'Case_tc005002' object has no attribute 'tid'


[ suite teardown ] cases\空白环境\一个班级\一班级一学生\
删除所有学生
列出学生


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:35 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "retlist": [
    {
      "classid": 20273,
      "realname": "秦桑",
      "username": "qinsang",
      "phonenumber": "1894567233",
      "id": 2123
    }
  ],
  "retcode": 0
}
-------- HTTP response * end -------




-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:35 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "retcode": 0
}
-------- HTTP response * end -------




>>> cases\空白环境\一个班级\一班级一老师\

[ suite setup ] cases\空白环境\一个班级\一班级一老师\
列出班级


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:36 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "gradeid": null,
  "retlist": [
    {
      "name": "实验一班",
      "grade__name": "七年级",
      "invitecode": "202734632934",
      "studentlimit": 80,
      "studentnumber": 0,
      "id": 20273,
      "teacherlist": [
        {
          "teacher__realname": "张明",
          "subject_id": 1,
          "subject__name": "初中数学",
          "teacher__user_id": 7799
        }
      ]
    }
  ],
  "retcode": 0
}
-------- HTTP response * end -------


添加老师


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:36 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "reason": "登录名 zhangming 已经存在",
  "retcode": 1
}
-------- HTTP response * end -------




>>> cases\空白环境\一个班级\一班级一老师\一班级一老师.py

* 添加老师2-API-tc001002  -  2025-06-20 15:34:35

  [ case execution steps ]

-- 第 1 步 -- 创建老师 

列出班级


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:36 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "gradeid": null,
  "retlist": [
    {
      "name": "实验一班",
      "grade__name": "七年级",
      "invitecode": "202734632934",
      "studentlimit": 80,
      "studentnumber": 0,
      "id": 20273,
      "teacherlist": [
        {
          "teacher__realname": "张明",
          "subject_id": 1,
          "subject__name": "初中数学",
          "teacher__user_id": 7799
        }
      ]
    }
  ],
  "retcode": 0
}
-------- HTTP response * end -------


添加老师


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:36 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "retcode": 0,
  "id": 5221
}
-------- HTTP response * end -------



** 检查点 **  返回的retcode值=0 ---->  通过


-- 第 2 步 -- 列出老师 

列出老师


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:36 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "retlist": [
    {
      "username": "lining",
      "teachclasslist": [
        20273
      ],
      "realname": "李宁",
      "id": 5221,
      "phonenumber": "13410243456",
      "email": "lining@163.com",
      "idcardnumber": "3209251988090987199"
    }
  ],
  "retcode": 0
}
-------- HTTP response * end -------



** 检查点 **  返回的消息体，是否包含刚刚添加的老师的id ---->  通过

  PASS 

[ case teardown ] 添加老师2-API-tc001002
删除老师


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:36 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "retcode": 0
}
-------- HTTP response * end -------



* 添加老师3-API-tc001003  -  2025-06-20 15:34:36

  [ case execution steps ]

-- 第 1 步 -- 创建老师 

列出老师


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:36 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "retlist": [
    {
      "username": "zhangming",
      "teachclasslist": [
        20273
      ],
      "realname": "张明",
      "id": 5219,
      "phonenumber": "13451813456",
      "email": "zhangming@163.com",
      "idcardnumber": "3209251983090987799"
    }
  ],
  "retcode": 0
}
-------- HTTP response * end -------


列出班级


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:36 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "gradeid": null,
  "retlist": [
    {
      "name": "实验一班",
      "grade__name": "七年级",
      "invitecode": "202734632934",
      "studentlimit": 80,
      "studentnumber": 0,
      "id": 20273,
      "teacherlist": [
        {
          "teacher__realname": "张明",
          "subject_id": 1,
          "subject__name": "初中数学",
          "teacher__user_id": 7799
        }
      ]
    }
  ],
  "retcode": 0
}
-------- HTTP response * end -------


添加老师


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:36 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "reason": "登录名 zhangming 已经存在",
  "retcode": 1
}
-------- HTTP response * end -------



** 检查点 **  返回的响应体符合预期 ---->  通过


-- 第 2 步 -- 列出老师 

列出老师


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:36 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "retlist": [],
  "retcode": 0
}
-------- HTTP response * end -------



** 检查点 **  返回的消息体，没有刚刚添加的老师的 ---->  通过

  PASS 

* 修改老师1-API-tc001051  -  2025-06-20 15:34:36

  [ case execution steps ]

-- 第 1 步 -- 修改老师：老师ID不存在 

修改老师


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:36 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "reason": "id 为`111`的老师不存在",
  "retcode": 1
}
-------- HTTP response * end -------



** 检查点 **  返回消息体是否符合预期 ---->  !! 不通过!!

  FAIL    
Traceback:
  File "D:\tools\projects\autotest_yjyx\cases\空白环境\一个班级\一班级一老师\一班级一老师.py", line 106, in teststeps
    CHECK_POINT('返回消息体是否符合预期', modifyRet == expected)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python312\Lib\site-packages\hytest\common.py", line 76, in CHECK_POINT
    raise AssertionError()
AssertionError


* 修改老师2-API-tc001052  -  2025-06-20 15:34:36

[ case setup ] 修改老师2-API-tc001052
添加班级


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:36 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "invitecode": "202792009841",
  "retcode": 0,
  "id": 20279
}
-------- HTTP response * end -------



  [ case execution steps ]

-- 第 1 步 -- 修改老师 

列出老师


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:37 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "retlist": [
    {
      "username": "zhangming",
      "teachclasslist": [
        20273
      ],
      "realname": "张明",
      "id": 5219,
      "phonenumber": "13451813456",
      "email": "zhangming@163.com",
      "idcardnumber": "3209251983090987799"
    }
  ],
  "retcode": 0
}
-------- HTTP response * end -------


修改老师


-------- HTTP response * begin -------
500
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:37 GMT
Content-Type: text/html
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn

消息体不是json格式！！！
-------- HTTP response * end -------



-- 第 2 步 -- 列出老师 

列出老师


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:37 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "retlist": [
    {
      "username": "zhangming",
      "teachclasslist": [
        20273
      ],
      "realname": "张明",
      "id": 5219,
      "phonenumber": "13451813456",
      "email": "zhangming@163.com",
      "idcardnumber": "3209251983090987799"
    }
  ],
  "retcode": 0
}
-------- HTTP response * end -------



** 检查点 **  信息是否更正 ---->  !! 不通过!!

  FAIL    
Traceback:
  File "D:\tools\projects\autotest_yjyx\cases\空白环境\一个班级\一班级一老师\一班级一老师.py", line 150, in teststeps
    CHECK_POINT('信息是否更正', flag)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python312\Lib\site-packages\hytest\common.py", line 76, in CHECK_POINT
    raise AssertionError()
AssertionError


[ case teardown ] 修改老师2-API-tc001052
删除班级


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:37 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "retcode": 0
}
-------- HTTP response * end -------



* 删除老师1-API-tc001081  -  2025-06-20 15:34:37

  [ case execution steps ]

-- 第 1 步 -- 删除老师：使用不存在的老师ID 

删除老师


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:37 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "reason": "id 为`1111`的老师不存在",
  "retcode": 404
}
-------- HTTP response * end -------



** 检查点 **  响应体消息是否符合预期 ---->  通过

  PASS 

* 删除老师2-API-tc001082  -  2025-06-20 15:34:37

  [ case execution steps ]

-- 第 1 步 -- 删除老师 

列出老师


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:37 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "retlist": [
    {
      "username": "zhangming",
      "teachclasslist": [
        20273
      ],
      "realname": "张明",
      "id": 5219,
      "phonenumber": "13451813456",
      "email": "zhangming@163.com",
      "idcardnumber": "3209251983090987799"
    }
  ],
  "retcode": 0
}
-------- HTTP response * end -------


删除老师


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:37 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "retcode": 0
}
-------- HTTP response * end -------



** 检查点 **  响应体消息是否符合预期 ---->  通过


-- 第 2 步 -- 列出老师 

列出老师


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:37 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "retlist": [],
  "retcode": 0
}
-------- HTTP response * end -------



** 检查点 **  该老师不在列表中 ---->  通过

  PASS 

* 添加学生1-API-tc002001  -  2025-06-20 15:34:37

  [ case execution steps ]

-- 第 1 步 -- 创建学生 

列出班级


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:37 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "gradeid": null,
  "retlist": [
    {
      "name": "实验一班",
      "grade__name": "七年级",
      "invitecode": "202734632934",
      "studentlimit": 80,
      "studentnumber": 0,
      "id": 20273,
      "teacherlist": []
    }
  ],
  "retcode": 0
}
-------- HTTP response * end -------


添加学生


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:37 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "retcode": 0,
  "id": 2124
}
-------- HTTP response * end -------



** 检查点 **  返回的retcode值=0 ---->  通过


-- 第 2 步 -- 列出学生 

列出学生


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:37 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "retlist": [
    {
      "classid": 20273,
      "realname": "张本智和",
      "username": "benzhi",
      "phonenumber": "13723451089",
      "id": 2124
    }
  ],
  "retcode": 0
}
-------- HTTP response * end -------



** 检查点 **  返回的消息体，是否包含刚刚添加的学生的id ---->  通过

  PASS 

[ case teardown ] 添加学生1-API-tc002001
删除学生


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:38 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "retcode": 0
}
-------- HTTP response * end -------




>>> cases\空白环境\一个班级\一班级一老师\一班级一老师一学生\

[ suite setup ] cases\空白环境\一个班级\一班级一老师\一班级一老师一学生\
列出班级


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:38 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "gradeid": null,
  "retlist": [
    {
      "name": "实验一班",
      "grade__name": "七年级",
      "invitecode": "202734632934",
      "studentlimit": 80,
      "studentnumber": 0,
      "id": 20273,
      "teacherlist": []
    }
  ],
  "retcode": 0
}
-------- HTTP response * end -------


添加学生


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:38 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "retcode": 0,
  "id": 2125
}
-------- HTTP response * end -------




>>> cases\空白环境\一个班级\一班级一老师\一班级一老师一学生\一班级一老师一学生.py

* 添加学生2-API-tc002002  -  2025-06-20 15:34:38

  [ case execution steps ]

-- 第 1 步 -- 创建学生 

列出班级


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:38 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "gradeid": null,
  "retlist": [
    {
      "name": "实验一班",
      "grade__name": "七年级",
      "invitecode": "202734632934",
      "studentlimit": 80,
      "studentnumber": 1,
      "id": 20273,
      "teacherlist": []
    }
  ],
  "retcode": 0
}
-------- HTTP response * end -------


添加学生


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:38 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "retcode": 0,
  "id": 2126
}
-------- HTTP response * end -------



** 检查点 **  返回的retcode值=0 ---->  通过


-- 第 2 步 -- 列出学生 

列出学生


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:38 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "retlist": [
    {
      "classid": 20273,
      "realname": "张本智和",
      "username": "benzhi",
      "phonenumber": "13723451089",
      "id": 2125
    },
    {
      "classid": 20273,
      "realname": "姚安娜",
      "username": "yaoanna",
      "phonenumber": "13823451090",
      "id": 2126
    }
  ],
  "retcode": 0
}
-------- HTTP response * end -------



** 检查点 **  返回的消息体，是否包含刚刚添加的学生的id ---->  通过

  PASS 

[ case teardown ] 添加学生2-API-tc002002
删除学生


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:38 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "retcode": 0
}
-------- HTTP response * end -------



* 删除学生1-API-tc002081  -  2025-06-20 15:34:38

  [ case execution steps ]

-- 第 1 步 -- 删除学生 

列出学生


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:38 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "retlist": [
    {
      "classid": 20273,
      "realname": "张本智和",
      "username": "benzhi",
      "phonenumber": "13723451089",
      "id": 2125
    }
  ],
  "retcode": 0
}
-------- HTTP response * end -------


删除学生


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:38 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "retcode": 0
}
-------- HTTP response * end -------



** 检查点 **  响应体消息是否符合预期 ---->  通过


-- 第 2 步 -- 列出班级 

列出学生


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:38 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "retlist": [],
  "retcode": 0
}
-------- HTTP response * end -------



** 检查点 **  该学生 是否 不在列出结果中 ---->  通过

  PASS 

[ case teardown ] 删除学生1-API-tc002081
添加学生


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:38 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "retcode": 0,
  "id": 2127
}
-------- HTTP response * end -------



* 老师发布作业1-API-tc005101  -  2025-06-20 15:34:38

  [ case execution steps ]

-- 第 1 步 -- 老师登录系统 

列出老师


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:38 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "retlist": [],
  "retcode": 0
}
-------- HTTP response * end -------


  ABORT   list index out of range 
Traceback:
  File "D:\tools\projects\autotest_yjyx\cases\空白环境\一个班级\一班级一老师\一班级一老师一学生\一班级一老师一学生.py", line 91, in teststeps
    username, realname, subjectid, classlist, phonenumber, email, idcardnumber = getFirstTeacher().values()
                                                                                 ^^^^^^^^^^^^^^^^^
  File "D:\tools\projects\autotest_yjyx\lib\api\Teacher.py", line 12, in getFirstTeacher
    return listRet['retlist'][0]
           ~~~~~~~~~~~~~~~~~~^^^
IndexError: list index out of range


* 老师发布作业2-API-tc005102  -  2025-06-20 15:34:38

  [ case execution steps ]

-- 第 1 步 -- 老师登录系统 

列出老师


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:39 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "retlist": [],
  "retcode": 0
}
-------- HTTP response * end -------


  ABORT   list index out of range 
Traceback:
  File "D:\tools\projects\autotest_yjyx\cases\空白环境\一个班级\一班级一老师\一班级一老师一学生\一班级一老师一学生.py", line 203, in teststeps
    username, realname, subjectid, classlist, phonenumber, email, idcardnumber = getFirstTeacher().values()
                                                                                 ^^^^^^^^^^^^^^^^^
  File "D:\tools\projects\autotest_yjyx\lib\api\Teacher.py", line 12, in getFirstTeacher
    return listRet['retlist'][0]
           ~~~~~~~~~~~~~~~~~~^^^
IndexError: list index out of range


* 老师发布作业3-API-tc005103  -  2025-06-20 15:34:38

  [ case execution steps ]

-- 第 1 步 -- 老师登录系统 

列出老师


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:39 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "retlist": [],
  "retcode": 0
}
-------- HTTP response * end -------


  ABORT   list index out of range 
Traceback:
  File "D:\tools\projects\autotest_yjyx\cases\空白环境\一个班级\一班级一老师\一班级一老师一学生\一班级一老师一学生.py", line 239, in teststeps
    username, realname, subjectid, classlist, phonenumber, email, idcardnumber = getFirstTeacher().values()
                                                                                 ^^^^^^^^^^^^^^^^^
  File "D:\tools\projects\autotest_yjyx\lib\api\Teacher.py", line 12, in getFirstTeacher
    return listRet['retlist'][0]
           ~~~~~~~~~~~~~~~~~~^^^
IndexError: list index out of range


* 老师发布作业3-API-tc005104  -  2025-06-20 15:34:39

  [ case execution steps ]

-- 第 1 步 -- 老师登录系统 

列出老师


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:39 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "retlist": [],
  "retcode": 0
}
-------- HTTP response * end -------


  ABORT   list index out of range 
Traceback:
  File "D:\tools\projects\autotest_yjyx\cases\空白环境\一个班级\一班级一老师\一班级一老师一学生\一班级一老师一学生.py", line 323, in teststeps
    username, realname, subjectid, classlist, phonenumber, email, idcardnumber = getFirstTeacher().values()
                                                                                 ^^^^^^^^^^^^^^^^^
  File "D:\tools\projects\autotest_yjyx\lib\api\Teacher.py", line 12, in getFirstTeacher
    return listRet['retlist'][0]
           ~~~~~~~~~~~~~~~~~~^^^
IndexError: list index out of range


[ suite teardown ] cases\空白环境\一个班级\一班级一老师\一班级一老师一学生\
删除所有学生
列出学生


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:39 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "retlist": [
    {
      "classid": 20273,
      "realname": "benzhi",
      "username": "张本智和",
      "phonenumber": "13723451089",
      "id": 2127
    }
  ],
  "retcode": 0
}
-------- HTTP response * end -------




-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:39 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "retcode": 0
}
-------- HTTP response * end -------



[ suite teardown ] cases\空白环境\一个班级\一班级一老师\
删除所有老师
列出老师


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:39 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "retlist": [],
  "retcode": 0
}
-------- HTTP response * end -------



[ suite teardown ] cases\空白环境\一个班级\
列出班级


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:39 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "gradeid": null,
  "retlist": [
    {
      "name": "实验一班",
      "grade__name": "七年级",
      "invitecode": "202734632934",
      "studentlimit": 80,
      "studentnumber": 0,
      "id": 20273,
      "teacherlist": []
    }
  ],
  "retcode": 0
}
-------- HTTP response * end -------


删除班级


-------- HTTP response * begin -------
200
Server: nginx/1.17.0
Date: Fri, 20 Jun 2025 07:34:39 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Language
X-Frame-Options: SAMEORIGIN
Content-Language: zh-cn
Access-Control-Allow-Origin: *

{
  "retcode": 0
}
-------- HTTP response * end -------




  ========= 测试结束 : 20250620_153439 =========


  耗时    : 13.356 秒


  预备执行用例数量 : 25

  实际执行用例数量 : 25

  通过 : 11

  失败 : 6

  异常 : 8

  套件初始化失败 : 0

  套件清除  失败 : 0

  用例初始化失败 : 0

  用例清除  失败 : 5
